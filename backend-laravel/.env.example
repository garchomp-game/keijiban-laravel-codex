APP_NAME=Keijiban
APP_ENV=local
APP_KEY=
# Set via `php artisan key:generate`
APP_DEBUG=true
APP_URL=http://localhost
APP_TIMEZONE=UTC

LOG_CHANNEL=stack
LOG_LEVEL=debug

DB_CONNECTION=pgsql
DB_HOST=pgsql
DB_PORT=5432
DB_DATABASE=app
DB_USERNAME=sail
DB_PASSWORD=password
 
# Redis (local Sail)
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=null
# Optional per-conn DB index
REDIS_DB=0
REDIS_CACHE_DB=1
REDIS_QUEUE_DB=2

# App-level toggles
CACHE_STORE=redis          # Sail ローカルでは redis を既定ON
SESSION_DRIVER=redis
QUEUE_CONNECTION=sync      # 今はsync。将来redisに切替可
SESSION_LIFETIME=120       # minutes

# Cache TTLs
CACHE_TTL_THREADS=60

# Rate limit
RATE_LIMIT_PER_MIN=60

# Horizon dashboard gate (enable only for local dev)
HORIZON_ALLOW_DASHBOARD=false

# CI や Redis 無効化時は以下で上書き
# CACHE_STORE=array
# SESSION_DRIVER=array
# QUEUE_CONNECTION=sync

SANCTUM_STATEFUL_DOMAINS=localhost,127.0.0.1,localhost:3000   # SPA auth domains
FRONTEND_URL=http://localhost:3000                            # Next.js dev server
